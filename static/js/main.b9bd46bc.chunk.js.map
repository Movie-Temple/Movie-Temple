{"version":3,"sources":["MTLogoTurqPerspTrans.png","features/searchTerm.js","components/website/contents/search/SearchBar.jsx","components/images/user.png","components/website/header/HeadBar.jsx","components/website/contents/footerContents/Career.jsx","components/website/contents/footerContents/Policy.jsx","components/website/contents/footerContents/Faq.jsx","components/website/contents/footerContents/AboutUs.jsx","features/currentMovie.js","components/website/contents/home/GenreScroller.jsx","components/website/contents/home/Movies.jsx","components/website/contents/playMovie/PlayMovie.jsx","components/website/contents/home/Purchased.jsx","components/website/contents/home/Rented.jsx","components/website/contents/home/Watchlist.jsx","firebase.js","features/currentUser.js","contexts/AuthContext.js","components/website/contents/account/signIn/SignIn.jsx","components/website/contents/home/Home.jsx","components/website/contents/search/SearchPage.jsx","components/website/contents/search/Search.jsx","components/website/contents/footerContents/Support.jsx","components/website/contents/account/signUp/SignUp.jsx","components/website/contents/account/profile/ProfileHistory.jsx","features/bankCard.js","components/website/contents/account/profile/ProfileSettings.jsx","components/website/contents/account/profile/Profile.jsx","components/website/contents/account/AccountContainer.jsx","components/website/footer/Footer.jsx","components/popup/Popup.jsx","components/website/contents/movieContent/MovieComments.jsx","features/currentMovieComments.js","features/rating.js","components/website/contents/movieContent/MovieDetails.jsx","components/website/WebsiteRoute.jsx","components/movieDb.js","components/api.js","features/movies.js","features/purchasedMovies.js","features/rentedMovies.js","features/watchlistMovies.js","App.js","serviceWorker.js","features/rootReducer.js","index.js"],"names":["replaceSearchTerm","createAction","reducer","createReducer","state","action","payload","SearchBar","useState","searchTerm","setSearchTerm","dispatch","useDispatch","history","useHistory","handleSave","push","className","onChange","event","target","value","toLowerCase","id","placeholder","name","onKeyPress","key","htmlFor","HeadBar","to","src","Logo","alt","userIcon","Career","Policy","Faq","AboutUs","replaceMovie","Title","Poster","Plot","Actors","Runtime","Year","Metascore","Genre","imdbID","SideScroller","scrollerName","genre","movies","useSelector","map","movie","indexOf","onClick","handleCLick","Movies","GenreScroller","PlayMovie","props","console","log","handleClose","Purchased","purchasedMovies","playMovieIsOpen","setPlayMovieIsOpen","toggleplayMovieIsOpen","onPosterClick","Rented","rentedMovies","sum","rentExpires","Date","now","Math","floor","timeLeft","Watchlist","watchlistMovies","handleClick","app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","db","firestore","setCurrentUserUid","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","currentUser","setCurrentUser","useEffect","onAuthStateChanged","user","signup","email","password","createUserWithEmailAndPassword","signin","signInWithEmailAndPassword","signout","signOut","Provider","SignIn","toggleShowSignIn","emailRef","useRef","passwordRef","error","setError","loading","setLoading","e","a","preventDefault","current","then","uid","Alert","variant","type","ref","disabled","Home","currentUserUid","tabNameToIndex","0","1","2","3","selectedTab","setSelectedTab","AppBar","position","Tabs","newValue","Tab","label","SearchPage","Search","Support","SignUp","nameRef","passwordConfirmRef","resp","collection","doc","set","bankCard","purchased","rented","watchlist","ProfileHistory","toLocaleDateString","setBankCard","ProfileSettings","showCardDetails","setShowCardDetails","cardRef","merge","catch","Profile","showSettings","setShowSettings","toggleShowSettings","userName","setUserName","onSnapshot","result","data","AccountContainer","userID","showSignIn","setShowSignIn","Container","Footer","Popup","content","MovieComments","movieComments","rating","currentMovie","ratingScore","parseFloat","toFixed","commentRef","ratingRef","haveRated","setHaveRated","haveCommented","setHaveCommented","role","aria-label","update","Number","uuid","comments","addComments","addRating","MovieDetails","confirmedPurchase","setConfirmedPurchase","foundInRented","find","findmovie","foundInPurchased","foundInWatchlist","rentIsOpen","setRentIsOpen","toggleRentPopup","buyIsOpen","setBuyIsOpen","toggleBuyPopup","showingComments","setShowingComments","total","commentList","Object","keys","forEach","movieID","rentMovie","buyMovie","FieldValue","delete","changeWatchlist","WebsiteRoute","exact","path","from","render","titles","title","infoUrl","fetch","response","json","getMovie","addMovies","setPurchasedMovies","initialState","setRentedMovies","setWatchlistMovies","App","setMovies","Promise","all","fetchAll","purchasedToAdd","rentedToAdd","watchlistToAdd","tempMovies","addedToWatchlist","Boolean","window","location","hostname","match","rootReducer","combineReducers","moviesReducer","currentMovieReducer","searchTermReducer","currentMovieCommentsReducer","ratingReducer","store","configureStore","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b9bd46bc.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/MTLogoTurqPerspTrans.56f4f0e1.png\";","import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\n\r\n\r\nconst replaceSearchTerm = createAction('replace searchterm');\r\n\r\nconst inititalState = '';\r\n\r\n\r\n\r\nconst reducer = createReducer(inititalState, {\r\n    [replaceSearchTerm] : (state, action) => (\r\n        action.payload\r\n    )\r\n});\r\n\r\nexport {replaceSearchTerm, reducer};","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\nimport { replaceSearchTerm } from \"../../../../features/searchTerm\";\r\n\r\nconst SearchBar = () => {\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const handleKeyPress = (event) => {\r\n    if (event.key === \"Enter\") {\r\n      handleSave();\r\n      setSearchTerm(\"\");\r\n    }\r\n  };\r\n\r\n  const handleSave = () => {\r\n    dispatch(replaceSearchTerm(searchTerm));\r\n    history.push('/Search');\r\n  };\r\n\r\n  return (\r\n    <section className=\"search-container\">\r\n      <form>\r\n        <input\r\n          onChange={(event) => {\r\n            setSearchTerm(event.target.value.toLowerCase());\r\n          }}\r\n          className=\"search\"\r\n          id=\"searchleft\"\r\n          placeholder=\"Search movies\"\r\n          name=\"q\"\r\n          value={searchTerm}\r\n          onKeyPress={handleKeyPress} />\r\n        <label className=\"button searchbutton\" htmlFor=\"searchleft\">\r\n          <span className=\"mglass\">&#9906;</span>\r\n        </label>\r\n      </form>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","export default __webpack_public_path__ + \"static/media/user.8a3c03fa.png\";","import {Link} from 'react-router-dom';\r\nimport Logo from '../../../MTLogoTurqPerspTrans.png'\r\nimport '../header/headBar.css';\r\nimport SearchBar from '../../website/contents/search/SearchBar'\r\nimport userIcon from '../../images/user.png';\r\nconst HeadBar = () => {\r\n\r\n    return (\r\n        <div className='nav'>\r\n            <div className='nav-search-link'>\r\n                <SearchBar/>\r\n            </div>\r\n            <div className='nav-logo-link'>\r\n                <Link  to=\"/\">\r\n                    <img className='home-icon-img' src={Logo} alt='Logo'></img>\r\n                </Link>\r\n            </div>\r\n            <div className='nav-login-link'>\r\n                <Link to=\"/Account\"> <img className='login-icon-img' src={userIcon} alt='User Icon'></img></Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HeadBar;","import './career.css'\r\n\r\nconst Career = () => {\r\n\r\n    return (\r\n        <div className='career'>\r\n            <h2 className='career-header'>Job / Career</h2>\r\n            <p>We are looking for fullstack developers to join our amazing and ambitious team.<br/>\r\n            Are you the one we are looking for?<br /><br />\r\n            Send your resume and cover letter to: <br /><br />MT_developers@teammovietemple.com\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Career;","import './policy.css'\r\n\r\nconst Policy = () => {\r\n\r\n    return (\r\n        <div className='policy'>\r\n            <h2 className='policy-header'>Policy</h2>\r\n            <p>Movie Temple AB (hereby referred to as “The man”) claims the right to own you (the user, hereby referred to as “the loser”), your family and averything you will ever create and/or own.\r\n                Do not for a second confuse your life for an actual life, as you now exist solely to serve The man. \r\n                Any objections to these terms are futile and may result in the loser being terminated.\r\n                None of the loser’s data is treated in accordance with GDPR and they never will.\r\n            </p>\r\n\r\n            <button>Got it!</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Policy;","import './faq.css'\r\n\r\nconst Faq = () => {\r\n\r\n    return (\r\n        <div className='faq'>\r\n            <h2 className='faq-header'>FAQ</h2>\r\n            <p>Here you can find answers to the most common questions asked by the site users<br/><br/>\r\n                1. How do I find a movie?<br/>\r\n                Enter a search word in the search bar in the top left corner.<br/><br/>\r\n                2. I am interested in working at Movie Temple - how should I proceed?<br/>\r\n                Check out our Career site for more information about open positions.<br/><br/>\r\n                3. How many movies do you have?<br/>\r\n                There are approximately 1000 movies available for you to enjoy.<br/><br/>\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Faq;","import './aboutUs.css'\r\n\r\nconst AboutUs = () => {\r\n\r\n    return (\r\n        <div className='about-us'>\r\n            <h2 className='about-us-header'>About Us</h2>\r\n            <p>We are a team of developers. We made this site, please enjoy. <br/><br/>\r\n                Instagram: @DoesNotExistMovieTemple<br/>\r\n                Facebook: Your Local MovieTemple Does Not Exist\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AboutUs;","import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\n\r\n\r\nconst replaceMovie = createAction('replace movie');\r\n\r\nconst inititalState = {\r\n    Title: '',\r\n    Poster: '',\r\n    Plot: '',\r\n    Actors: '',\r\n    Runtime: '',\r\n    Year: '',\r\n    Metascore: '',\r\n    Genre: '',\r\n    imdbID: ''\r\n};\r\n\r\n\r\n\r\nconst reducer = createReducer(inititalState, {\r\n    [replaceMovie] : (state, action) => (\r\n        {\r\n            Title: action.payload.Title,\r\n            Poster: action.payload.Poster,\r\n            Plot: action.payload.Plot,\r\n            Actors: action.payload.Actors,\r\n            Runtime: action.payload.Runtime,\r\n            Year: action.payload.Year,\r\n            Metascore: action.payload.Metascore,\r\n            Genre: action.payload.Genre,\r\n            imdbID: action.payload.imdbID\r\n        }\r\n    )\r\n});\r\n\r\nexport {replaceMovie, reducer};","import './scroller.css';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { replaceMovie } from \"../../../../features/currentMovie\";\r\n\r\n\r\nconst SideScroller = ({scrollerName, genre}) => {\r\n    const history = useHistory();\r\n    const movies = useSelector(state => state.movies);\r\n    const dispatch = useDispatch();\r\n  \r\n    const handleCLick = (movie) => {\r\n        return (\r\n            dispatch(replaceMovie(movie)),\r\n            history.push('/moviedetails')\r\n        )\r\n    }\r\n\r\n    return ( \r\n        <div className='sideScroller'>\r\n            <h3 className='scrollerName'>{scrollerName}</h3>\r\n            <div className='scrollerWrapper'>\r\n                {movies.map((movie) => {\r\n                    return ((movie.Genre.toLowerCase().indexOf(genre) !== -1) ?\r\n                        <div className='scrollerItem' onClick={() => {handleCLick(movie)}} key={movie.imdbID}>\r\n                            <img className='scrollerImg' src={movie.Poster} alt={movie.Title} />\r\n                            <p className='scrollerTitle'>{movie.Title}</p>\r\n                        </div>\r\n                        : null\r\n                    );\r\n                })}  \r\n            </div>\r\n             \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SideScroller;","import './movies.css';\r\nimport GenreScroller from './GenreScroller';\r\n//import PersonalScroller from './PersonalScroller';\r\n\r\nconst Movies = () => {\r\n    \r\n\r\n    return (\r\n        <div className='categories'>\r\n            \r\n            <GenreScroller scrollerName='Comedy' genre={'comedy'}/>\r\n            <GenreScroller scrollerName='Action' genre= {'action'}/>\r\n            <GenreScroller scrollerName='Drama' genre= {'drama'}/>\r\n            <GenreScroller scrollerName='Adventure' genre= {'adventure'}/>\r\n            <GenreScroller scrollerName='Sport' genre= {'sport'}/>\r\n            <GenreScroller scrollerName='Thriller' genre= {'thriller'}/>\r\n            \r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Movies;\r\n\r\n/*<PersonalScroller scrollerName='Purchased' category='purchased' />\r\n            <PersonalScroller scrollerName='Purchased' category='rented' />\r\n            <PersonalScroller scrollerName='Purchased' category='watchList' /> */","import './playMovie.css';\r\n\r\nconst PlayMovie = (props) => {\r\n\r\n    console.log('inside playmovie')\r\n\r\n    return (\r\n        <div className='play-movie'>\r\n            <span className=\"play-close-icon\" onClick={props.handleClose}>x</span>\r\n            <h1 className='play-movie-text'>Playing movie</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PlayMovie;","import './purchased.css'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport PlayMovie from '../playMovie/PlayMovie';\r\nimport { useState } from 'react';\r\nimport { replaceMovie } from '../../../../features/currentMovie';\r\nimport { useHistory } from 'react-router';\r\n\r\nconst Purchased = () => {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const purchasedMovies = useSelector(state => state.purchasedMovies);\r\n\r\n    // play movie\r\n    const [playMovieIsOpen, setPlayMovieIsOpen] = useState(false);\r\n    const toggleplayMovieIsOpen = () => {\r\n        setPlayMovieIsOpen(!playMovieIsOpen);\r\n    }\r\n\r\n    const onPosterClick = (movie) => {\r\n        return (\r\n            dispatch(replaceMovie(movie)),\r\n            history.push('/moviedetails')\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className='purchased'>\r\n            {purchasedMovies.map((movie) => {\r\n                    return ( purchasedMovies ?\r\n                        <div key={movie.imdbID}>\r\n                            <div className='purchased-scrollerItem' key={movie.imdbID}>\r\n                            <img className='purchased-scrollerImg' onClick={() => {onPosterClick(movie)}} src={movie.Poster} alt={movie.Title} />\r\n                            </div>\r\n                            <button className='purchased-play-button' onClick={toggleplayMovieIsOpen}>Play</button>\r\n                            \r\n                            {playMovieIsOpen && <PlayMovie\r\n                                handleClose={toggleplayMovieIsOpen}\r\n                            />}\r\n\r\n                        </div>\r\n\r\n                        : null\r\n                    );\r\n                })}  \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Purchased;\r\n\r\n","import './rented.css';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport PlayMovie from '../playMovie/PlayMovie';\r\nimport { useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { replaceMovie } from '../../../../features/currentMovie';\r\n\r\nconst Rented = () => {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const rentedMovies = useSelector(state => state.rentedMovies);\r\n    \r\n\r\n    // play movie\r\n    const [playMovieIsOpen, setPlayMovieIsOpen] = useState(false);\r\n    const toggleplayMovieIsOpen = () => {\r\n        setPlayMovieIsOpen(!playMovieIsOpen);\r\n    }\r\n\r\n    const onPosterClick = (movie) => {\r\n        return (\r\n            dispatch(replaceMovie(movie)),\r\n            history.push('/moviedetails')\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className='rented'>\r\n            \r\n            {rentedMovies.map((movie) => {\r\n                const timeLeft = () => {\r\n                    let sum = movie.rentExpires - Date.now();\r\n                    let hours = Math.floor(sum / 3600000);\r\n                    return (\r\n                        hours\r\n                    )\r\n                }\r\n                    return ( rentedMovies ?\r\n                        <div className='rented-scrollerItem' key={movie.imdbID}>\r\n                            <div>\r\n                                <img className='rented-scrollerImg' onClick={() => {onPosterClick(movie)}} src={movie.Poster} alt={movie.Title} />\r\n                                <button className='rented-play-button' onClick={toggleplayMovieIsOpen}>Play</button>\r\n                                <p>{timeLeft()} hours left</p>\r\n                            </div>\r\n\r\n                            {playMovieIsOpen && <PlayMovie\r\n                                handleClose={toggleplayMovieIsOpen}\r\n                            />}\r\n                            \r\n                        </div>\r\n                        : null\r\n                    );\r\n                })}  \r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Rented;","import './watchlist.css';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { replaceMovie } from \"../../../../features/currentMovie\";\r\nimport { useHistory } from 'react-router';\r\n\r\nconst Watchlist = () => {\r\n\r\n    const watchlistMovies = useSelector(state => state.watchlistMovies);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory()\r\n\r\n    const handleClick = (movie) => {\r\n        return (\r\n            dispatch(replaceMovie(movie)),\r\n            history.push('/moviedetails')\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className='watchlist'>\r\n            {watchlistMovies.map((movie) => {\r\n                    return ( watchlistMovies ?\r\n                        <div className='watchlist-scrollerItem' key={movie.imdbID} onClick={() => {handleClick(movie)}}>\r\n                            <img className='watchlist-scrollerImg' src={movie.Poster} alt={movie.Title} />\r\n                        </div>\r\n                        : null\r\n                    );\r\n                })}  \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Watchlist;\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nconst app = firebase.initializeApp({\r\n    apiKey: \"AIzaSyB3Eg3OkdU7EhHSNWCbw6m2_8v-I4l9Rvw\",\r\n    authDomain: \"movie-temple.firebaseapp.com\",\r\n    projectId: \"movie-temple\",\r\n    storageBucket: \"movie-temple.appspot.com\",\r\n    messagingSenderId: \"202326160820\",\r\n    appId: \"1:202326160820:web:4025f076b750db357d6ee1\",\r\n    measurementId: \"G-T6502ZXBJF\"\r\n\r\n});\r\n\r\n\r\nexport const auth = app.auth();\r\nexport const db = app.firestore();\r\n\r\n\r\nexport default app;\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\n\r\nconst setCurrentUserUid = createAction('set current user uid')\r\nconst initialState = '';\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case 'set current user uid':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport {reducer, setCurrentUserUid};","import React, { useContext, useState, useEffect } from 'react';\r\nimport 'firebase/auth';\r\nimport { auth } from '../firebase';\r\nimport {useDispatch} from 'react-redux';\r\nimport {setCurrentUserUid} from '../features/currentUser';\r\n//import { db } from '../firebase';\r\n\r\nconst AuthContext = React.createContext();\r\n\r\nexport function useAuth() {\r\n    return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const [currentUser, setCurrentUser] = useState('');\r\n     \r\n    function signup(email, password) {\r\n        return auth.createUserWithEmailAndPassword(email, password);\r\n    }\r\n\r\n    function signin(email, password) {\r\n        return auth.signInWithEmailAndPassword(email, password);\r\n    }\r\n\r\n    function signout() {\r\n        return auth.signOut();\r\n    }\r\n\r\n    useEffect( () => {\r\n        const unsubscribe = auth.onAuthStateChanged(user => {\r\n            if (user == null) {\r\n                dispatch(setCurrentUserUid(''));\r\n            } else {\r\n                setCurrentUser(user);\r\n            }\r\n        })\r\n        \r\n        return unsubscribe;\r\n    }, [dispatch]);\r\n\r\n    const value = {\r\n        currentUser,\r\n        signup,\r\n        signin,\r\n        signout\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n\r\n}","import './signIn.css';\r\nimport React, { useRef, useState } from 'react';\r\nimport { Alert } from 'react-bootstrap';\r\nimport { useAuth } from '../../../../../contexts/AuthContext';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setCurrentUserUid } from '../../../../../features/currentUser';\r\n\r\nconst SignIn = ({toggleShowSignIn}) => {\r\n\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n    const { signin } = useAuth();\r\n    const [error, setError] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const dispatch = useDispatch();\r\n\r\n    const { currentUser } = useAuth();\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        try {\r\n            setError(\"\");\r\n            setLoading(true);\r\n            await signin(emailRef.current.value, passwordRef.current.value)\r\n                .then(() => {\r\n\r\n                    dispatch(setCurrentUserUid(currentUser.uid));\r\n                })\r\n            console.log(\"Logged in!\");\r\n            setError(\"Logged in!\");\r\n        } catch {\r\n            setError(\"Failed to log in\");\r\n            console.log('error', error);\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='login'>\r\n            <div className='login-container'>\r\n                <h2 className='login-header'>Sign in</h2>\r\n                {error && <Alert variant=\"danger\"> {error} </Alert>}\r\n                <form className='login-form' action=''>\r\n                    <label htmlFor='login-email'>E-mail</label><br/>\r\n                    <input type='text' id='login-email' name='login-email' ref={emailRef}/><br/>\r\n                    <label htmlFor='login-password'>Password</label><br/>\r\n                    <input type='text' id='login-password' name='login-password' ref={passwordRef}/><br/>\r\n                </form>\r\n\r\n                <button onClick={handleSubmit} disabled={loading}>Sign in</button>\r\n                <div className='login-signup'>Don't have an account? Click here to <p className='login-signup-link' onClick={toggleShowSignIn}>sign up</p></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignIn;","import { useState } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { AppBar, Tabs, Tab } from '@material-ui/core';\r\nimport Movies from './Movies';\r\nimport Purchased from './Purchased';\r\nimport Rented from './Rented';\r\nimport WatchList from './Watchlist';\r\nimport './homeTabs.css';\r\nimport { useSelector} from 'react-redux';\r\nimport SignIn from '../account/signIn/SignIn';\r\nimport { AuthProvider } from '../../../../contexts/AuthContext';\r\n\r\nconst Home = () => {\r\n\r\n    const currentUserUid = useSelector(state => state.currentUserUid);\r\n    const history = useHistory();\r\n\r\n    const tabNameToIndex = {\r\n        0: \"Movies\",\r\n        1: \"Purchased\",\r\n        2: \"Rented\",\r\n        3: \"WatchList\"\r\n    };\r\n\r\n    const [selectedTab, setSelectedTab] = useState(0);\r\n    const handleChange = (event, newValue) => {\r\n        history.push(`/Home/${tabNameToIndex[newValue]}`);\r\n        setSelectedTab(newValue);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <AppBar position=\"static\">\r\n\r\n                <Tabs className='tabs' value={selectedTab} onChange={handleChange} variant='fullWidth'>\r\n                    <Tab className={selectedTab === 0 ? 'selectedTab' : ''} label=\"Movies\" />\r\n                    <Tab className={selectedTab === 1 ? 'selectedTab' : ''} label=\"Purchased\" />\r\n                    <Tab className={selectedTab === 2 ? 'selectedTab' : ''} label=\"Rented\" />\r\n                    <Tab className={selectedTab === 3 ? 'selectedTab' : ''} label=\"Watchlist\" />\r\n                </Tabs>\r\n\r\n            </AppBar>\r\n            \r\n            <AuthProvider>\r\n            \r\n                \r\n            \r\n                { currentUserUid ? \r\n                <div>\r\n                    {selectedTab === 0 && <Movies />}\r\n                    {selectedTab === 1 && <Purchased />}\r\n                    {selectedTab === 2 && <Rented />}\r\n                    {selectedTab === 3 && <WatchList />}\r\n                </div> \r\n                : \r\n                <div>\r\n                    {selectedTab === 0 && <Movies />}\r\n                    {selectedTab === 1 && <SignIn />}\r\n                    {selectedTab === 2 && <SignIn />}\r\n                    {selectedTab === 3 && <SignIn />}\r\n                </div>}\r\n            \r\n            </AuthProvider>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport { replaceMovie } from \"../../../../features/currentMovie\";\r\nimport './searchPage.css'\r\n\r\nconst SearchPage = () => {\r\n  const movies = useSelector((state) => state.movies);\r\n  const searchTerm = useSelector(state => state.searchTerm);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  \r\n  // const filteredData = React.useMemo(() => {\r\n  //   //if (searchTerm === \"\") return movies;\r\n  //   return movies.filter((item) => \r\n  //     //console.log(item.Title)\r\n  //     item.Title.toLowerCase().includes(searchTerm)\r\n  //   );\r\n  // }, [movies, searchTerm]);\r\n\r\n\r\n  const handleCLick = (movie) => {\r\n    return (\r\n        dispatch(replaceMovie(movie)),\r\n        history.push('/moviedetails')\r\n    )\r\n}\r\n\r\n  return (\r\n    <>\r\n      <div className=\"searchBody\">\r\n          {movies.map((movie) => {\r\n              return ((movie.Title.toLowerCase().indexOf(searchTerm) !== -1) ?\r\n                  <div className='searchItem' onClick={() => {handleCLick(movie)}} key={movie.imdbID}>\r\n                      <img className='searchImg' src={movie.Poster} alt={movie.Title} />\r\n                  </div>\r\n                  : null);\r\n            })}  \r\n      </div> \r\n    </>\r\n  );\r\n};\r\n\r\nexport default SearchPage;\r\n","import React from 'react';\r\nimport SearchPage from '../search/SearchPage';\r\n\r\nconst Search = () => {\r\n\r\n    return (\r\n        <div>\r\n            <SearchPage />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search;","import './support.css'\r\n\r\nconst Support = () => {\r\n\r\n    return (\r\n        <div className='support'>\r\n            <h2 className='support-header'>Need help?</h2>\r\n            <p>We are here to help you with any issues that you might run into when browsing our site. <br/><br />\r\n            Contact us at: MT_developers@teammovietemple.com\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Support;","import React, { useRef, useState } from 'react';\r\nimport { Alert } from 'react-bootstrap';\r\nimport { useAuth } from '../../../../../contexts/AuthContext';\r\nimport './signUp.css';\r\nimport { db } from '../../../../../firebase';\r\nimport { useDispatch } from 'react-redux';\r\nimport {setCurrentUserUid} from '../../../../../features/currentUser';\r\n\r\nexport default function SignUp({toggleShowSignIn}) {\r\n\r\n    const nameRef = useRef()\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n    const passwordConfirmRef = useRef();\r\n\r\n    const { signup } = useAuth();\r\n    const [error, setError] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n            return setError(\"Password do not match!\");\r\n        }\r\n        \r\n        if (nameRef.current.value === '') {\r\n            return setError('Enter your name');\r\n        }\r\n\r\n        try {\r\n            setError(\"\");\r\n            setLoading(true);\r\n            await signup(emailRef.current.value, passwordRef.current.value)\r\n                .then((resp) => {\r\n                    db.collection('CUSTOMERS').doc(resp.user.uid).set({\r\n                        name: nameRef.current.value,\r\n                        email: emailRef.current.value,\r\n                        bankCard: '',\r\n                        purchased: {},\r\n                        rented: {},\r\n                        watchlist: {}\r\n                    })\r\n                    dispatch(setCurrentUserUid(resp.user.uid))\r\n                })\r\n            setError(\"Your account is now created!\");\r\n        } catch {\r\n            setError(\"Failed to create an account!\");\r\n            console.log(error);\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n\r\n        <div className='register'>\r\n            <div className='register-container'>\r\n                <h2 className='register-header'>Sign up</h2>\r\n                {error && <Alert variant=\"danger\"> {error} </Alert>}\r\n                <form className='register-form' action=''>\r\n\r\n                    <label htmlFor='register-name'>Name</label><br />\r\n                    <input type='text' id='register-name' name='register-name' ref={nameRef} /><br />\r\n\r\n                    <label htmlFor='register-email'>E-mail</label><br />\r\n                    <input type='text' id='register-email' name='register-email' ref={emailRef} /><br />\r\n\r\n                    <label htmlFor='register-password'>Password</label><br />\r\n                    <input type='text' id='register-password' name='register-password' ref={passwordRef} /><br />\r\n\r\n                    <label htmlFor='register-repeat-password'>Repeat Password</label><br />\r\n                    <input type='text' id='register-repeat-password' name='register-repeat-password' ref={passwordConfirmRef} /><br />\r\n                </form>\r\n\r\n                <button onClick={handleSubmit} disabled={loading} >Sign up</button>\r\n                <div className='register-signin'>Already have an account? Click here to <p className='register-signin-link' onClick={toggleShowSignIn}>sign in</p></div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import '../profile/profileHistory.css'\r\nimport { useSelector } from 'react-redux';\r\n\r\n\r\nconst ProfileHistory = () => {\r\n\r\n    const rentedMovies = useSelector(state => state.rentedMovies)\r\n    const purchasedMovies = useSelector(state => state.purchasedMovies)\r\n\r\n    return (\r\n        <div className='profile-history'>\r\n            <div className='profile-history-list'>\r\n                <h4>Rented</h4>\r\n                {rentedMovies.map((movie) => {\r\n                    return ((movie) ?\r\n                        <div key={movie.imdbID} className='profile-history-listitem'>\r\n                            <p>{movie.Title}: {new Date(movie.rented).toLocaleDateString('sv-SE')}</p>\r\n                        </div>\r\n                    : null\r\n                    )\r\n                })}\r\n                <h4>Purchased</h4>\r\n                {purchasedMovies.map((movie) => {\r\n                    return ((movie) ?\r\n                        <div key={movie.imdbID} className='profile-history-listitem'>\r\n                            <p>{movie.Title}: {new Date(movie.purchased).toLocaleDateString('sv-SE')}</p>\r\n                        </div>\r\n                    : null\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileHistory;","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\n\r\nconst setBankCard = createAction('set bank card')\r\nconst initialState = '';\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case 'set bank card':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport {reducer, setBankCard};","import '../profile/profileSettings.css';\r\n\r\nimport { useRef, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { db } from '../../../../../firebase';\r\nimport { setBankCard } from '../../../../../features/bankCard';\r\n\r\nconst ProfileSettings = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const [showCardDetails, setShowCardDetails] = useState(false);\r\n    const cardRef = useRef();\r\n    const currentUserUid = useSelector(state => state.currentUserUid);\r\n    const bankCard = useSelector(state => state.bankCard);\r\n\r\n    const toggleShowCardDetails = () => {\r\n        setShowCardDetails(!showCardDetails);\r\n    }\r\n\r\n\r\n    const save = () => {\r\n\r\n        if (currentUserUid) {\r\n            db.collection(\"CUSTOMERS\").doc(currentUserUid).set({\r\n                bankCard: cardRef.current.value,\r\n            }, { merge: true })\r\n            .then(() => {\r\n                dispatch(setBankCard(cardRef.current.value))\r\n                console.log(\"card details successfully added\");\r\n                setShowCardDetails(false);\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"error saving card details: \", error);\r\n            }); \r\n        } else {\r\n            console.log('no useruid, one have to log in to add card details')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='profile-settings'>\r\n            <p className='profile-settings-change-card' onClick={toggleShowCardDetails}>Add/edit payment details</p>\r\n            {showCardDetails \r\n            ? \r\n            <div>\r\n                <input id='card-details' name='card-details' placeholder={bankCard} ref={cardRef} />\r\n                <button className='profile-settings-save-card-button' onClick={save}>Save</button> \r\n            </div>\r\n            : \r\n            ''}\r\n            <br/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileSettings;\r\n","import './profile.css';\r\nimport { useAuth } from '../../../../../contexts/AuthContext';\r\nimport { useState } from 'react';\r\nimport ProfileHistory from './ProfileHistory';\r\nimport ProfileSettings from './ProfileSettings';\r\nimport { useSelector } from 'react-redux';\r\nimport { db } from '../../../../../firebase';\r\n\r\nconst Profile = () => {\r\n\r\n    const { signout } = useAuth();\r\n\r\n    const [showSettings, setShowSettings] = useState(true);\r\n\r\n    const toggleShowSettings = () => {\r\n        setShowSettings(!showSettings);\r\n    }\r\n\r\n    const currentUserUid = useSelector(state => state.currentUserUid);\r\n\r\n    const [userName, setUserName] = useState('');\r\n\r\n\r\n    db.collection(\"CUSTOMERS\").doc(currentUserUid)\r\n        .onSnapshot((doc) => {\r\n            const result = doc.data().name;\r\n            setUserName(result);\r\n        });\r\n\r\n    return (\r\n        <div className='profile'>\r\n            <div className='profile-headings-container'>\r\n\r\n                <div className='profile-sub-headings-container'>\r\n                    <h3 className={showSettings ? 'profile-sub-heading selected' : 'profile-sub-heading'} onClick={toggleShowSettings}>Settings</h3>\r\n                    <h3 className={showSettings ? 'profile-sub-heading' : 'profile-sub-heading selected'} onClick={toggleShowSettings}>History</h3>\r\n                </div>\r\n            </div>\r\n            <hr className='profile-breakline'/>\r\n            <div className='profile-container'>\r\n\r\n                <div className='profile-history-settings-container'>\r\n                    {showSettings ? <ProfileSettings /> : <ProfileHistory />}\r\n                </div>\r\n            </div>\r\n            <div className='profile-image-name-container'>\r\n                    {/*<img className='profile-image' src={Avatar} alt=\"profile pic\" />*/}\r\n                    <h4 className='profile-name'>Signed in as {userName}</h4>\r\n                    <button className='profile-signout-button' onClick={signout}>Sign Out</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import SignUp from './signUp/SignUp';\r\nimport { Container } from 'react-bootstrap';\r\nimport {AuthProvider} from '../../../../contexts/AuthContext';\r\nimport {useSelector} from 'react-redux';\r\nimport Profile from './profile/Profile';\r\nimport SignIn from './signIn/SignIn';\r\nimport { useState } from 'react';\r\n\r\nconst AccountContainer = () =>  {\r\n\r\n    const userID = useSelector(state => state.currentUserUid);\r\n    \r\n    const [showSignIn, setShowSignIn]  = useState(true);\r\n\r\n    const toggleShowSignIn = () => {\r\n        setShowSignIn(!showSignIn);\r\n    }\r\n    \r\n    return (\r\n\r\n    <div>\r\n        {userID ?\r\n        <div>\r\n            <AuthProvider>\r\n                <Container >\r\n                    <div >\r\n                        <Profile />\r\n                    </div>\r\n                </Container>\r\n            </AuthProvider>\r\n        </div>\r\n        : \r\n        <div>\r\n            <AuthProvider>\r\n                <Container >\r\n                    <div >\r\n                        {showSignIn ? <SignIn toggleShowSignIn={toggleShowSignIn}/> : <SignUp toggleShowSignIn={toggleShowSignIn}/>}\r\n                    </div>\r\n                </Container>\r\n            </AuthProvider>\r\n        </div>\r\n        }\r\n    </div>\r\n\r\n    )\r\n}\r\n\r\nexport default AccountContainer;","import './footer.css';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\nconst Footer = () => {\r\n\r\n    const history = useHistory();\r\n  \r\n    function clickAboutUs() {\r\n      history.push(\"/AboutUs\");\r\n    }\r\n\r\n    function clickSupport() {\r\n        history.push(\"/Support\");\r\n    }\r\n\r\n    function clickCareer() {\r\n        history.push(\"/Career\");\r\n    }\r\n      \r\n    function clickPolicy() {\r\n        history.push(\"/Policy\");\r\n    }\r\n    \r\n    function clickFaq() {\r\n        history.push(\"/FAQ\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"footer\">\r\n            <p className='footer-element' onClick={clickAboutUs} >About</p>\r\n            <p className='footer-element' onClick={clickSupport}>Support</p>\r\n            <p className='footer-element' onClick={clickCareer}>Career</p>\r\n            <p className='footer-element' onClick={clickPolicy}>Policy</p>\r\n            <p className='footer-element' onClick={clickFaq}>FAQ</p>\r\n            </div>\r\n    );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport './popup.css'\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Popup = props => {\r\n\r\n  const bankCard = useSelector(state => state.bankCard);\r\n\r\n  return (\r\n    <div>\r\n      {bankCard ? \r\n      <div>\r\n        <div className=\"popup-box\">\r\n          <div className=\"box\">\r\n            <span className=\"close-icon\" onClick={props.handleClose}>x</span>\r\n            {props.content}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      : \r\n      <div>\r\n        <div className=\"popup-box\">\r\n          <div className=\"box\">\r\n            <span className=\"close-icon\" onClick={props.handleClose}>x</span>\r\n            <p> It's required to add payment methods in your Profile to complete the process!</p>\r\n          </div>\r\n        </div>\r\n      </div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Popup;","import './movieComments.css';\r\nimport { useSelector} from 'react-redux';\r\nimport { db } from '../../../../firebase';\r\nimport uuid from 'react-uuid';\r\nimport { useRef, useState } from 'react';\r\n\r\nconst MovieComments = () => {\r\n    \r\n    const movieComments = useSelector(state => state.movieComments);\r\n    const rating = useSelector(state => state.rating);\r\n    const movie = useSelector(state => state.currentMovie);\r\n\r\n    // used to disable buttons if not signed in\r\n    const currentUserUid = useSelector(state => state.currentUserUid);\r\n\r\n    const ratingScore = parseFloat(rating[0]/rating[1]).toFixed(2);\r\n    \r\n    const commentRef = useRef();\r\n    const ratingRef = useRef();\r\n\r\n    const [haveRated, setHaveRated] = useState(false);\r\n    const [haveCommented, setHaveCommented] = useState(false);\r\n\r\n    // comment func\r\n    const leaveComments = () => {\r\n        let comments = {};\r\n        comments[uuid()] = commentRef.current.value;\r\n        setHaveCommented(true);\r\n        db.collection(\"COMMENTS\").doc(movie.imdbID).set({comments}, {merge: true})\r\n        commentRef.current.value = \"You've commented!\";\r\n    };\r\n\r\n    // rate func\r\n    const leaveRating = () => {\r\n        setHaveRated(true);\r\n        db.collection(\"COMMENTS\").doc(movie.imdbID).update({\r\n            \"rating\": rating[0] + Number(ratingRef.current.value),\r\n            \"total\": rating[1] + 1\r\n        })\r\n        ratingRef.current.value = \"You've rated!\";\r\n    };\r\n\r\n    const getRatingText = () => {\r\n        if (rating[1] > 0) {\r\n            return (\r\n                <span>Rating: {ratingScore} <span role=\"img\" aria-label=\"star\">⭐</span>({rating[1]} voted)</span>\r\n            )\r\n        } else {\r\n            return (\r\n                <span>No votes yet!</span>\r\n            )\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className='movie-comments'>\r\n\r\n            <h2>{getRatingText()} </h2>\r\n            \r\n            <input type='text' id='rating' name='rating' placeholder=\"0-10\" ref={ratingRef} />\r\n            <button className='movie-comment-button' onClick={leaveRating} disabled={haveRated || !currentUserUid}>Rate!</button>\r\n            \r\n            <h2>Comments</h2> \r\n            \r\n            {movieComments.map((movie) => {\r\n                    return ( \r\n                        <div>\r\n                            {movieComments ?\r\n\r\n                            <div className='movie-comments-comments' key={uuid()}>\r\n                                <p>{movie}</p>\r\n                            </div>\r\n                            :\r\n                            <div className='movie-comments-comments' key={uuid()}>\r\n                                <p>No comments at the moment! Leave one?</p>\r\n                            </div>\r\n                            }\r\n                        </div>\r\n                    );\r\n                })}  \r\n            \r\n                <input className='movie-comment-input' type='text' id='comment' name='comment' ref={commentRef} />\r\n                <button className='movie-comment-button' onClick={leaveComments} disabled={haveCommented || !currentUserUid}>Comment!</button>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default MovieComments;\r\n\r\n","import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\n\r\n\r\n\r\nconst addComments = createAction('add comments');\r\n\r\nconst initialState = [];\r\n\r\n\r\n\r\nconst reducer = createReducer(initialState, {\r\n    [addComments] : (state, action) => (\r\n        action.payload\r\n    )\r\n});\r\n\r\n\r\nexport {addComments, reducer};","import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\n\r\n\r\n\r\nconst addRating = createAction('add rating');\r\n\r\nconst initialState = [];\r\n\r\n\r\n\r\nconst reducer = createReducer(initialState, {\r\n    [addRating] : (state, action) => (\r\n        action.payload\r\n    )\r\n});\r\n\r\n\r\nexport {addRating, reducer};","import './movieDetails.css';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { db } from '../../../../firebase';\r\nimport Popup from '../../../popup/Popup'\r\nimport React, { useState } from \"react\";\r\nimport MovieComments from './MovieComments';\r\nimport { addComments } from '../../../../features/currentMovieComments';\r\nimport { addRating } from '../../../../features/rating';\r\nimport firebase from 'firebase/app';\r\n\r\nconst MovieDetails = () => {\r\n\r\n    // state to change text in popup to confirm purchase when rent or buy movie\r\n    const [confirmedPurchase, setConfirmedPurchase] = useState(false);\r\n\r\n    //const movieComments = useSelector(state => state.movieComments);\r\n    const dispatch = useDispatch();\r\n\r\n    const movie = useSelector(state => state.currentMovie);\r\n    const userID = useSelector(state => state.currentUserUid);\r\n    const rentedMovies = useSelector(state => state.rentedMovies);\r\n    const purchasedMovies = useSelector(state => state.purchasedMovies);\r\n    const watchlistMovies = useSelector(state => state.watchlistMovies);\r\n\r\n    //checks if movie already exists in rented, purchased or watchlist. Sets buttons accordingly.\r\n    const foundInRented = rentedMovies.find(findmovie => findmovie.imdbID === movie.imdbID);\r\n    const foundInPurchased = purchasedMovies.find(findmovie => findmovie.imdbID === movie.imdbID);\r\n    const foundInWatchlist = watchlistMovies.find(findmovie => findmovie.imdbID === movie.imdbID);\r\n\r\n    //rent popup\r\n    const [rentIsOpen, setRentIsOpen] = useState(false);\r\n    const toggleRentPopup = () => {\r\n        setRentIsOpen(!rentIsOpen);\r\n    }\r\n\r\n    //buy popup\r\n    const [buyIsOpen, setBuyIsOpen] = useState(false);\r\n    const toggleBuyPopup = () => {\r\n        setBuyIsOpen(!buyIsOpen);\r\n    }\r\n\r\n    // Toggle comments\r\n    const [showingComments, setShowingComments] = useState(false);\r\n    const toggleComments = () => {\r\n        setShowingComments(!showingComments);\r\n    }\r\n\r\n    // Loading comments\r\n    //useEffect(() => {\r\n        db.collection(\"COMMENTS\").doc(movie.imdbID)\r\n        .onSnapshot((doc) => {\r\n            const comments = doc.data().comments;\r\n            const rating = doc.data().rating;\r\n            const total = doc.data().total;\r\n            \r\n            let ratingList = [rating, total];\r\n            dispatch(addRating(ratingList));\r\n\r\n            let commentList = [];\r\n            Object.keys(comments).forEach(key => {\r\n                commentList.push(comments[key])\r\n            })\r\n            \r\n            dispatch(addComments(commentList));\r\n        });\r\n         \r\n     //}, [])\r\n\r\n\r\n    const rentMovie = ((movieID) => {\r\n        if (userID) {\r\n            let rented = {};\r\n            rented[movieID] = Date.now();\r\n            db.collection('CUSTOMERS').doc(userID).set({ rented }, { merge: true });\r\n            setConfirmedPurchase(true);\r\n        } else {\r\n            console.log('not logged in')\r\n        }\r\n    });\r\n\r\n    const buyMovie = ((movieID) => {\r\n        if (userID) {\r\n            let purchased = {};\r\n            purchased[movieID] = Date.now();\r\n            db.collection('CUSTOMERS').doc(userID).set({ purchased }, { merge: true })\r\n            setConfirmedPurchase(true);\r\n        } else {\r\n            console.log('not logged in')\r\n        }\r\n    });\r\n\r\n    const changeWatchlist = ((movieID) => {\r\n        if (foundInWatchlist) {\r\n            if (userID) {\r\n                db.collection(\"CUSTOMERS\")\r\n                .doc(userID)\r\n                .set({\r\n                    watchlist: {\r\n                        [movieID]: firebase.firestore.FieldValue.delete()\r\n                    }\r\n                }, { merge: true });\r\n            }\r\n        } else {\r\n            if (userID) {\r\n                let watchlist = {};\r\n                watchlist[movieID] = Date.now();\r\n                db.collection('CUSTOMERS').doc(userID).set({ watchlist }, { merge: true })\r\n            } else {\r\n                console.log('not logged in')\r\n            }\r\n        }\r\n    });\r\n\r\n    if (movie == null) {\r\n        return (\r\n            <div className='movie-details'>Something went wrong. Nothing to show..</div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className='movie-details'>\r\n                <img className='movie-details-image' src={movie.Poster} alt=\"Poster\" />\r\n\r\n                <div className='movie-details-information'>\r\n                    <h2 className='movie-details-title'>{movie.Title}</h2>\r\n                    <p className='movie-details-description'>{movie.Plot}</p>\r\n                    <p className='movie-details-actors'> Actors: {movie.Actors}</p>\r\n                    <p className='movie-details-runtime'>Runtime: {movie.Runtime}</p>\r\n                    <p className='movie-details-year'>Release year: {movie.Year}</p>\r\n                    <p className='movie-details-metascore'>Metascore: {movie.Metascore}</p>\r\n                    <p className='movie-details-genre'>Genre: {movie.Genre}</p>\r\n                    <div className='movie-details-buttons'>\r\n\r\n\r\n                        {rentIsOpen && <Popup\r\n                            content={\r\n                                confirmedPurchase ?\r\n                                    <>\r\n                                        <b>Purchase completed!</b>\r\n                                    </>\r\n                                    :\r\n                                    <>\r\n                                        <b>Confirm Purchase</b>\r\n                                        <button className='details-confirm-button' onClick={() => rentMovie(movie.imdbID)}>Rent</button>\r\n                                    </>\r\n                            }\r\n                            handleClose={toggleRentPopup}\r\n                        />}\r\n\r\n                        {buyIsOpen && <Popup\r\n                            content={\r\n                                confirmedPurchase ?\r\n                                    <>\r\n                                        <b>Purchase completed!</b>\r\n                                    </>\r\n                                    :\r\n                                    <>\r\n                                        <b>Confirm Purchase</b>\r\n                                        <button className='details-confirm-button' onClick={() => buyMovie(movie.imdbID)}>Buy</button>\r\n                                    </>\r\n                            }\r\n                            handleClose={toggleBuyPopup}\r\n                        />}\r\n                        <button\r\n                            disabled={foundInRented}\r\n                            className={foundInRented ? 'rent-button disabled' : 'rent-button'}\r\n                            onClick={toggleRentPopup}>{foundInRented ? 'Already rented' : 'Rent: 39 kr'}\r\n                        </button>\r\n\r\n                        <button\r\n                            disabled={foundInPurchased}\r\n                            className={foundInPurchased ? 'buy-button disabled' : 'buy-button'}\r\n                            onClick={toggleBuyPopup}>{foundInPurchased ? 'Already bought' : 'Buy: 99 kr'}\r\n                        </button>\r\n\r\n                        <button\r\n                            onClick={() => changeWatchlist(movie.imdbID)}\r\n                            className='watchlist-button'>{foundInWatchlist ? 'Remove from Watchlist' : 'Add to Watchlist'}\r\n                        </button>\r\n                        <button onClick={() => toggleComments()}>{showingComments ? 'Hide Comments' : 'View Comments'}</button>\r\n                    </div>\r\n\r\n                        \r\n                    <div className='movie-details-comment-section'>\r\n\r\n                        {showingComments ? <MovieComments /> : null}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MovieDetails;","import React from 'react'\r\nimport HeadBar from './header/HeadBar';\r\nimport Career from './contents/footerContents/Career';\r\nimport Policy from './contents/footerContents/Policy';\r\nimport FAQ from './contents/footerContents/Faq';\r\nimport AboutUs from './contents/footerContents/AboutUs';\r\nimport Home from './contents/home/Home';\r\nimport Search from './contents/search/Search';\r\nimport Support from './contents/footerContents/Support';\r\nimport AccountContainer from './contents/account/AccountContainer';\r\nimport { HashRouter as Router, Redirect, Route, Switch } from 'react-router-dom';\r\nimport Footer from './footer/Footer';\r\nimport MovieDetails from './contents/movieContent/MovieDetails';\r\n\r\nconst WebsiteRoute = () => {\r\n  return (\r\n\r\n    <Router>\r\n        \r\n        <div>\r\n            <HeadBar />\r\n        </div>\r\n\r\n        <Switch>\r\n            <Route exact path=\"/Account\">\r\n                <AccountContainer />\r\n            </Route>\r\n\r\n            <Route exact path=\"/Search\">\r\n                <Search />\r\n            </Route>\r\n\r\n            <Route exact path=\"/AboutUs\">\r\n                <AboutUs />\r\n            </Route>\r\n\r\n            <Route exact path=\"/Support\">\r\n                <Support />\r\n            </Route>\r\n\r\n            <Route exact path=\"/Career\">\r\n                <Career />\r\n            </Route>\r\n\r\n            <Route exact path=\"/Policy\">\r\n                <Policy />\r\n            </Route>\r\n\r\n            <Route exact path=\"/FAQ\">\r\n                <FAQ />\r\n            </Route>\r\n\r\n            <Route exact path='/moviedetails'>\r\n                <MovieDetails />\r\n            </Route>\r\n            \r\n    \r\n            <Redirect exact from=\"/\" to=\"/Home/Categories\" />\r\n\r\n            <Route exact path=\"/Home/:page?\" render={props => <Home {...props} />} />\r\n            </Switch>\r\n\r\n            <div>\r\n                <Footer />\r\n            </div>\r\n\r\n    </Router>);\r\n}\r\n\r\nexport default WebsiteRoute;\r\n\r\n","\r\n\r\n\r\nconst titles = [\r\n    'thor',\r\n    'iron man',\r\n    'happy gilmore',\r\n    'the matrix',\r\n    'pulp fiction',\r\n    'the rock',\r\n    'the shining',\r\n    'metropolis',\r\n    'transformers',\r\n    'vanishing point',\r\n    'venom',\r\n    'nobody',\r\n    'the falcon and the winter soldier',\r\n    'mortal kombat',\r\n    'raya and the last dragon',\r\n    'love and monsters',\r\n    'nomadland',\r\n    'shadow and bone',\r\n    'sound of metal',\r\n    'godzilla',\r\n    'soul',\r\n    'secret magic control agency',\r\n    'wandavision',\r\n    'my octopus teacher',\r\n    'dirty dancing',\r\n    'top gun',\r\n    'back to the future',\r\n    'frozen',\r\n    'dumb and dumber',\r\n    'spirited away',\r\n    'aviator',\r\n    'totoro',\r\n    'the karate kid',\r\n    'days of thunder',\r\n    '300',\r\n    'gladiator',\r\n    'grease',\r\n    'avatar',\r\n    'the blues brothers',\r\n    'godzilla vs. kong',\r\n    'the eye'\r\n\r\n]\r\n\r\n\r\n\r\nexport default titles;","\r\n\r\n\r\n\r\n\r\n\r\nasync function getMovie(title) {\r\n    let infoUrl = `http://www.omdbapi.com/?t=${title}&plot=short&apikey=a79f43b6`;\r\n\r\n\r\n    try {\r\n        let response = await fetch(infoUrl);\r\n        let data = await response.json();\r\n        data['rented'] = 0;\r\n        data[\"rentExpires\"] = 0;\r\n        data['purchased'] = 0;\r\n        data['addedToWatchlist'] = 0;\r\n        return data;\r\n\r\n    }\r\n    catch(error) {\r\n        console.log(\"error\")\r\n    }\r\n}\r\nexport default getMovie;","\r\nimport { createAction, createReducer } from \"@reduxjs/toolkit\";\r\n\r\nconst addMovies = createAction('add movies');\r\n\r\nconst initialState = [];\r\n\r\n\r\n\r\nconst reducer = createReducer(initialState, {\r\n    [addMovies] : (state, action) => (\r\n        action.payload\r\n    )\r\n});\r\n\r\n\r\nexport {addMovies, reducer};","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\n\r\nconst setPurchasedMovies = createAction('set purchased movies')\r\nconst initialState = [];\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case 'set purchased movies':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport {reducer, setPurchasedMovies};","import { createAction } from '@reduxjs/toolkit';\r\n\r\nconst setRentedMovies = createAction('set rented movies');\r\nconst initialState = [];\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'set rented movies': return action.payload;\r\n        default: return state;\r\n    }\r\n};\r\n\r\nexport { reducer, setRentedMovies }; \r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\n\r\nconst setWatchlistMovies = createAction('set watchlist movies')\r\nconst initialState = [];\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case 'set watchlist movies':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport {reducer, setWatchlistMovies}; ","import './App.css';\r\nimport WebsiteRoute from './components/website/WebsiteRoute'\r\nimport titles from './components/movieDb';\r\nimport { useState, useEffect } from 'react';\r\nimport getMovie from './components/api'\r\nimport { useDispatch, useSelector} from 'react-redux';\r\nimport {addMovies} from './features/movies';\r\nimport {db} from './firebase'\r\nimport { setPurchasedMovies } from './features/purchasedMovies';\r\nimport { setRentedMovies } from './features/rentedMovies';\r\nimport { setWatchlistMovies } from './features/watchlistMovies';\r\nimport { setBankCard } from './features/bankCard';\r\n\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const [movies, setMovies] = useState([]);\r\n  const currentUserUid = useSelector(state => state.currentUserUid);\r\n  \r\n  useEffect(() => {\r\n    const fetchAll = async () => setMovies(\r\n      await Promise.all(titles.map(getMovie))\r\n        \r\n    );\r\n    fetchAll();\r\n    \r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    dispatch(addMovies(movies))\r\n    \r\n  }, [movies, dispatch])\r\n\r\n\r\n  \r\n\r\n  const getMovieLists = () => {\r\n    if (currentUserUid) {\r\n        db.collection(\"CUSTOMERS\").doc(currentUserUid)\r\n        .onSnapshot((doc) => {\r\n                const purchased = doc.data().purchased;\r\n                const rented = doc.data().rented;\r\n                const watchlist = doc.data().watchlist;\r\n                const bankCard = doc.data().bankCard;\r\n                let purchasedToAdd = [];\r\n                let rentedToAdd = [];\r\n                let watchlistToAdd = [];\r\n                let tempMovies = movies.map(movie => ({...movie}));\r\n\r\n                if (purchased) {\r\n                    Object.keys(purchased).forEach(key => {\r\n                        const movie = tempMovies.find(movie => movie.imdbID === key)\r\n                        movie.purchased = purchased[key];\r\n                        purchasedToAdd.push(movie)\r\n                    })\r\n                    dispatch(setPurchasedMovies(purchasedToAdd));\r\n                } else {\r\n                    console.log('nothing purchased')\r\n                }\r\n\r\n                if (rented) {\r\n                  Object.keys(rented).forEach(key => {\r\n                    const movie = tempMovies.find(movie => movie.imdbID === key)\r\n                    movie.rented = rented[key];\r\n                    movie.rentExpires = rented[key] + 172800000;\r\n                    if (movie.rentExpires > Date.now()) {\r\n                      rentedToAdd.push(movie)\r\n                    }\r\n                  })\r\n                  dispatch(setRentedMovies(rentedToAdd));\r\n\r\n                } else {\r\n                    console.log('no rentals')\r\n                }\r\n\r\n                if (watchlist) {\r\n                    Object.keys(watchlist).forEach(key => {\r\n                        const movie = tempMovies.find(movie => movie.imdbID === key)\r\n                        movie.addedToWatchlist = watchlist[key];\r\n                        watchlistToAdd.push(movie)\r\n                    })\r\n                    dispatch(setWatchlistMovies(watchlistToAdd));\r\n                } else {\r\n                    console.log('nothing in watchlist')\r\n                }\r\n\r\n                if (bankCard) {\r\n                  dispatch(setBankCard(bankCard));\r\n                }\r\n        });\r\n    }\r\n}\r\n\r\nif (currentUserUid) {\r\n    getMovieLists();\r\n} else {\r\n    //console.log('not logged in, not getting personal lists')\r\n}\r\n\r\n  return (\r\n  \r\n    <div className=\"App\">\r\n      <WebsiteRoute />\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then((registration) => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport { reducer as moviesReducer} from './movies';\r\nimport { reducer as currentMovieReducer} from './currentMovie';\r\nimport { reducer as searchTermReducer} from './searchTerm';\r\nimport { reducer as currentUserReducer} from './currentUser';\r\nimport {reducer as purchasedMoviesReducer} from './purchasedMovies';\r\nimport { reducer as rentedMoviesReducer } from './rentedMovies';\r\nimport { reducer as watchlistMoviesReducer } from './watchlistMovies';\r\nimport { reducer as bankCardReducer } from './bankCard';\r\nimport { reducer as currentMovieCommentsReducer } from './currentMovieComments';\r\nimport { reducer as ratingReducer } from './rating';\r\n\r\nconst rootReducer = combineReducers({\r\n    movies: moviesReducer,\r\n    currentMovie: currentMovieReducer,\r\n    searchTerm:  searchTermReducer,\r\n    currentUserUid: currentUserReducer,\r\n    purchasedMovies: purchasedMoviesReducer,\r\n    rentedMovies: rentedMoviesReducer,\r\n    watchlistMovies: watchlistMoviesReducer,\r\n    bankCard: bankCardReducer,\r\n    movieComments: currentMovieCommentsReducer,\r\n    rating: ratingReducer\r\n});\r\n\r\n\r\nexport {rootReducer};","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {rootReducer} from './features/rootReducer';\r\nimport { configureStore } from '@reduxjs/toolkit';\r\n\r\n\r\n\r\nconst store = configureStore({\r\n\treducer: rootReducer\r\n});\r\n\r\n\r\n\r\nReactDOM.render(\r\n  \t<React.StrictMode>\r\n    \t<Provider store={store}>\r\n      \t\t<App />\r\n    \t</Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}