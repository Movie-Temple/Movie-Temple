(this["webpackJsonpmovie-temple"]=this["webpackJsonpmovie-temple"]||[]).push([[0],{100:function(e,t,c){},101:function(e,t,c){},103:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c.n(n),r=c(23),a=c.n(r),i=(c(69),c(43)),o=c(25),l=c.n(o),j=c(32),d=c(9),b=(c(71),c(31)),u=c.p+"static/media/MTLogoTurqPerspTrans.56f4f0e1.png",h=(c(72),c(4)),m=c(10),O=c(19),x=c(11),p=Object(x.b)("replace searchterm"),f=Object(x.c)("",Object(O.a)({},p,(function(e,t){return t.payload}))),v=c(1),g=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),c=t[0],s=t[1],r=Object(h.b)(),a=Object(m.g)(),i=function(){r(p(c)),a.push("/Search")};return Object(v.jsx)("section",{className:"search-container",children:Object(v.jsxs)("form",{children:[Object(v.jsx)("input",{onChange:function(e){s(e.target.value.toLowerCase())},className:"search",id:"searchleft",placeholder:"Search movies",name:"q",value:c,onKeyPress:function(e){"Enter"===e.key&&(i(),s(""))}}),Object(v.jsx)("label",{className:"button searchbutton",htmlFor:"searchleft",children:Object(v.jsx)("span",{className:"mglass",children:"\u26b2"})})]})})},N=c.p+"static/media/user.8a3c03fa.png",y=function(){return Object(v.jsxs)("div",{className:"nav",children:[Object(v.jsx)("div",{className:"nav-search-link",children:Object(v.jsx)(g,{})}),Object(v.jsx)("div",{className:"nav-logo-link",children:Object(v.jsx)(b.b,{to:"/",children:Object(v.jsx)("img",{className:"home-icon-img",src:u,alt:"Logo"})})}),Object(v.jsx)("div",{className:"nav-login-link",children:Object(v.jsxs)(b.b,{to:"/Account",children:[" ",Object(v.jsx)("img",{className:"login-icon-img",src:N,alt:"User Icon"})]})})]})},w=(c(78),function(){return Object(v.jsxs)("div",{className:"career",children:[Object(v.jsx)("h2",{className:"career-header",children:"Job / Career"}),Object(v.jsxs)("p",{children:["We are looking for fullstack developers to join our amazing and ambitious team.",Object(v.jsx)("br",{}),"Are you the one we are looking for?",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"Send your resume and cover letter to: ",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"MT_developers@teammovietemple.com"]})]})}),C=(c(79),function(){return Object(v.jsxs)("div",{className:"policy",children:[Object(v.jsx)("h2",{className:"policy-header",children:"Policy"}),Object(v.jsx)("p",{children:"Movie Temple AB (hereby referred to as \u201cThe man\u201d) claims the right to own you (the user, hereby referred to as \u201cthe loser\u201d), your family and averything you will ever create and/or own. Do not for a second confuse your life for an actual life, as you now exist solely to serve The man. Any objections to these terms are futile and may result in the loser being terminated. None of the loser\u2019s data is treated in accordance with GDPR and they never will."}),Object(v.jsx)("button",{children:"Got it!"})]})}),k=(c(80),function(){return Object(v.jsxs)("div",{className:"faq",children:[Object(v.jsx)("h2",{className:"faq-header",children:"FAQ"}),Object(v.jsxs)("p",{children:["Here you can find answers to the most common questions asked by the site users",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"1. How do I find a movie?",Object(v.jsx)("br",{}),"Enter a search word in the search bar in the top left corner.",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"2. I am interested in working at Movie Temple - how should I proceed?",Object(v.jsx)("br",{}),"Check out our Career site for more information about open positions.",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"3. How many movies do you have?",Object(v.jsx)("br",{}),"There are approximately 1000 movies available for you to enjoy.",Object(v.jsx)("br",{}),Object(v.jsx)("br",{})]})]})}),S=(c(81),function(){return Object(v.jsxs)("div",{className:"about-us",children:[Object(v.jsx)("h2",{className:"about-us-header",children:"About Us"}),Object(v.jsxs)("p",{children:["We are a team of developers. We made this site, please enjoy. ",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"Instagram: @DoesNotExistMovieTemple",Object(v.jsx)("br",{}),"Facebook: Your Local MovieTemple Does Not Exist"]})]})}),I=c(128),T=c(127),D=c(124),M=(c(82),c(83),Object(x.b)("replace movie")),P=Object(x.c)({Title:"",Poster:"",Plot:"",Actors:"",Runtime:"",Year:"",Metascore:"",Genre:"",imdbID:""},Object(O.a)({},M,(function(e,t){return{Title:t.payload.Title,Poster:t.payload.Poster,Plot:t.payload.Plot,Actors:t.payload.Actors,Runtime:t.payload.Runtime,Year:t.payload.Year,Metascore:t.payload.Metascore,Genre:t.payload.Genre,imdbID:t.payload.imdbID}}))),E=function(e){var t=e.scrollerName,c=e.genre,n=Object(m.g)(),s=Object(h.c)((function(e){return e.movies})),r=Object(h.b)();return Object(v.jsxs)("div",{className:"sideScroller",children:[Object(v.jsx)("h3",{className:"scrollerName",children:t}),Object(v.jsx)("div",{className:"scrollerWrapper",children:s.map((function(e){return-1!==e.Genre.toLowerCase().indexOf(c)?Object(v.jsxs)("div",{className:"scrollerItem",onClick:function(){!function(e){r(M(e)),n.push("/moviedetails")}(e)},children:[Object(v.jsx)("img",{className:"scrollerImg",src:e.Poster,alt:e.Title}),Object(v.jsx)("p",{className:"scrollerTitle",children:e.Title})]},e.imdbID):null}))})]})},R=function(){return Object(v.jsxs)("div",{className:"categories",children:[Object(v.jsx)(E,{scrollerName:"Comedy",genre:"comedy"}),Object(v.jsx)(E,{scrollerName:"Action",genre:"action"}),Object(v.jsx)(E,{scrollerName:"Drama",genre:"drama"}),Object(v.jsx)(E,{scrollerName:"Adventure",genre:"adventure"}),Object(v.jsx)(E,{scrollerName:"Sport",genre:"sport"}),Object(v.jsx)(E,{scrollerName:"Thriller",genre:"thriller"})]})},U=(c(84),c(85),function(e){return console.log("inside playmovie"),Object(v.jsxs)("div",{className:"play-movie",children:[Object(v.jsx)("span",{className:"play-close-icon",onClick:e.handleClose,children:"x"}),Object(v.jsx)("h1",{className:"play-movie-text",children:"Playing movie"})]})}),A=function(){var e=Object(h.b)(),t=Object(m.g)(),c=Object(h.c)((function(e){return e.purchasedMovies})),s=Object(n.useState)(!1),r=Object(d.a)(s,2),a=r[0],i=r[1],o=function(){i(!a)};return Object(v.jsx)("div",{className:"purchased",children:c.map((function(n){return c?Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"purchased-scrollerItem",children:Object(v.jsx)("img",{className:"purchased-scrollerImg",onClick:function(){!function(c){e(M(c)),t.push("/moviedetails")}(n)},src:n.Poster,alt:n.Title})},n.imdbID),Object(v.jsx)("button",{className:"purchased-play-button",onClick:o,children:"Play"}),a&&Object(v.jsx)(U,{handleClose:o})]},n.imdbID):null}))})},F=(c(86),function(){var e=Object(h.b)(),t=Object(m.g)(),c=Object(h.c)((function(e){return e.rentedMovies})),s=Object(n.useState)(!1),r=Object(d.a)(s,2),a=r[0],i=r[1],o=function(){i(!a)};return Object(v.jsx)("div",{className:"rented",children:c.map((function(n){return c?Object(v.jsxs)("div",{className:"rented-scrollerItem",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("img",{className:"rented-scrollerImg",onClick:function(){!function(c){e(M(c)),t.push("/moviedetails")}(n)},src:n.Poster,alt:n.Title}),Object(v.jsx)("button",{className:"rented-play-button",onClick:o,children:"Play"}),Object(v.jsxs)("p",{children:[function(){var e=n.rentExpires-Date.now();return Math.floor(e/36e5)}()," hours left"]})]}),a&&Object(v.jsx)(U,{handleClose:o})]},n.imdbID):null}))})}),W=(c(87),function(){var e=Object(h.c)((function(e){return e.watchlistMovies})),t=Object(h.b)(),c=Object(m.g)();return Object(v.jsx)("div",{className:"watchlist",children:e.map((function(n){return e?Object(v.jsx)("div",{className:"watchlist-scrollerItem",onClick:function(){!function(e){t(M(e)),c.push("/moviedetails")}(n)},children:Object(v.jsx)("img",{className:"watchlist-scrollerImg",src:n.Poster,alt:n.Title})},n.imdbID):null}))})}),L=(c(88),c(89),c(126)),B=(c(54),c(44)),G=(c(104),B.a.initializeApp({apiKey:"AIzaSyB3Eg3OkdU7EhHSNWCbw6m2_8v-I4l9Rvw",authDomain:"movie-temple.firebaseapp.com",projectId:"movie-temple",storageBucket:"movie-temple.appspot.com",messagingSenderId:"202326160820",appId:"1:202326160820:web:4025f076b750db357d6ee1",measurementId:"G-T6502ZXBJF"})),H=G.auth(),Y=G.firestore(),q=Object(x.b)("set current user uid"),z=s.a.createContext();function J(){return Object(n.useContext)(z)}function Q(e){var t=e.children,c=Object(h.b)(),s=Object(n.useState)(""),r=Object(d.a)(s,2),a=r[0],i=r[1];Object(n.useEffect)((function(){return H.onAuthStateChanged((function(e){null==e?c(q("")):i(e)}))}),[c]);var o={currentUser:a,signup:function(e,t){return H.createUserWithEmailAndPassword(e,t)},signin:function(e,t){return H.signInWithEmailAndPassword(e,t)},signout:function(){return H.signOut()}};return Object(v.jsx)(z.Provider,{value:o,children:t})}var _=function(e){var t=e.toggleShowSignIn,c=Object(n.useRef)(),s=Object(n.useRef)(),r=J().signin,a=Object(n.useState)(""),i=Object(d.a)(a,2),o=i[0],b=i[1],u=Object(n.useState)(!1),m=Object(d.a)(u,2),O=m[0],x=m[1],p=Object(h.b)(),f=J().currentUser;function g(){return(g=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,b(""),x(!0),e.next=6,r(c.current.value,s.current.value).then((function(){p(q(f.uid))}));case 6:console.log("Logged in!"),b("Logged in!"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),b("Failed to log in"),console.log("error",o);case 14:x(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return Object(v.jsx)("div",{className:"login",children:Object(v.jsxs)("div",{className:"login-container",children:[Object(v.jsx)("h2",{className:"login-header",children:"Sign in"}),o&&Object(v.jsxs)(L.a,{variant:"danger",children:[" ",o," "]}),Object(v.jsxs)("form",{className:"login-form",action:"",children:[Object(v.jsx)("label",{htmlFor:"login-email",children:"E-mail"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",id:"login-email",name:"login-email",ref:c}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{htmlFor:"login-password",children:"Password"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",id:"login-password",name:"login-password",ref:s}),Object(v.jsx)("br",{})]}),Object(v.jsx)("button",{onClick:function(e){return g.apply(this,arguments)},disabled:O,children:"Sign in"}),Object(v.jsxs)("div",{className:"login-signup",children:["Don't have an account? Click here to ",Object(v.jsx)("p",{className:"login-signup-link",onClick:t,children:"sign up"})]})]})})},K=function(){var e=Object(h.c)((function(e){return e.currentUserUid})),t=Object(m.g)(),c={0:"Movies",1:"Purchased",2:"Rented",3:"WatchList"},s=Object(n.useState)(0),r=Object(d.a)(s,2),a=r[0],i=r[1];return Object(v.jsxs)("div",{children:[Object(v.jsx)(I.a,{position:"static",children:Object(v.jsxs)(T.a,{className:"tabs",value:a,onChange:function(e,n){t.push("/Home/".concat(c[n])),i(n)},variant:"fullWidth",children:[Object(v.jsx)(D.a,{className:0===a?"selectedTab":"",label:"Movies"}),Object(v.jsx)(D.a,{className:1===a?"selectedTab":"",label:"Purchased"}),Object(v.jsx)(D.a,{className:2===a?"selectedTab":"",label:"Rented"}),Object(v.jsx)(D.a,{className:3===a?"selectedTab":"",label:"Watchlist"})]})}),Object(v.jsx)(Q,{children:e?Object(v.jsxs)("div",{children:[0===a&&Object(v.jsx)(R,{}),1===a&&Object(v.jsx)(A,{}),2===a&&Object(v.jsx)(F,{}),3===a&&Object(v.jsx)(W,{})]}):Object(v.jsxs)("div",{children:[0===a&&Object(v.jsx)(R,{}),1===a&&Object(v.jsx)(_,{}),2===a&&Object(v.jsx)(_,{}),3===a&&Object(v.jsx)(_,{})]})})]})},V=(c(92),function(){var e=Object(h.c)((function(e){return e.movies})),t=Object(h.c)((function(e){return e.searchTerm})),c=Object(h.b)(),n=Object(m.g)();return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"searchBody",children:e.map((function(e){return-1!==e.Title.toLowerCase().indexOf(t)?Object(v.jsx)("div",{className:"searchItem",onClick:function(){!function(e){c(M(e)),n.push("/moviedetails")}(e)},children:Object(v.jsx)("img",{className:"searchImg",src:e.Poster,alt:e.Title})},e.imdbID):null}))})})}),X=function(){return Object(v.jsx)("div",{children:Object(v.jsx)(V,{})})},Z=(c(93),function(){return Object(v.jsxs)("div",{className:"support",children:[Object(v.jsx)("h2",{className:"support-header",children:"Need help?"}),Object(v.jsxs)("p",{children:["We are here to help you with any issues that you might run into when browsing our site. ",Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),"Contact us at: MT_developers@teammovietemple.com"]})]})});c(94);function $(e){var t=e.toggleShowSignIn,c=Object(n.useRef)(),s=Object(n.useRef)(),r=Object(n.useRef)(),a=Object(n.useRef)(),i=J().signup,o=Object(n.useState)(""),b=Object(d.a)(o,2),u=b[0],m=b[1],O=Object(n.useState)(!1),x=Object(d.a)(O,2),p=x[0],f=x[1],g=Object(h.b)();function N(){return(N=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r.current.value===a.current.value){e.next=3;break}return e.abrupt("return",m("Password do not match!"));case 3:if(""!==c.current.value){e.next=5;break}return e.abrupt("return",m("Enter your name"));case 5:return e.prev=5,m(""),f(!0),e.next=10,i(s.current.value,r.current.value).then((function(e){Y.collection("CUSTOMERS").doc(e.user.uid).set({name:c.current.value,email:s.current.value,bankCard:"",purchased:{},rented:{},watchlist:{}}),g(q(e.user.uid))}));case 10:m("Your account is now created!"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),m("Failed to create an account!"),console.log(u);case 17:f(!1);case 18:case"end":return e.stop()}}),e,null,[[5,13]])})))).apply(this,arguments)}return Object(v.jsx)("div",{className:"register",children:Object(v.jsxs)("div",{className:"register-container",children:[Object(v.jsx)("h2",{className:"register-header",children:"Sign up"}),u&&Object(v.jsxs)(L.a,{variant:"danger",children:[" ",u," "]}),Object(v.jsxs)("form",{className:"register-form",action:"",children:[Object(v.jsx)("label",{htmlFor:"register-name",children:"Name"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",id:"register-name",name:"register-name",ref:c}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{htmlFor:"register-email",children:"E-mail"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",id:"register-email",name:"register-email",ref:s}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{htmlFor:"register-password",children:"Password"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",id:"register-password",name:"register-password",ref:r}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{htmlFor:"register-repeat-password",children:"Repeat Password"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",id:"register-repeat-password",name:"register-repeat-password",ref:a}),Object(v.jsx)("br",{})]}),Object(v.jsx)("button",{onClick:function(e){return N.apply(this,arguments)},disabled:p,children:"Sign up"}),Object(v.jsxs)("div",{className:"register-signin",children:["Already have an account? Click here to ",Object(v.jsx)("p",{className:"register-signin-link",onClick:t,children:"sign in"})]})]})})}var ee=c(125),te=(c(95),c(96),function(){var e=Object(h.c)((function(e){return e.rentedMovies})),t=Object(h.c)((function(e){return e.purchasedMovies}));return Object(v.jsx)("div",{className:"profile-history",children:Object(v.jsxs)("div",{className:"profile-history-list",children:[Object(v.jsx)("h4",{children:"Rented"}),e.map((function(e){return e?Object(v.jsx)("div",{className:"profile-history-listitem",children:Object(v.jsxs)("p",{children:[e.Title,": ",new Date(e.rented).toLocaleDateString("sv-SE")]})},e.imdbID):null})),Object(v.jsx)("h4",{children:"Purchased"}),t.map((function(e){return e?Object(v.jsx)("div",{className:"profile-history-listitem",children:Object(v.jsxs)("p",{children:[e.Title,": ",new Date(e.purchased).toLocaleDateString("sv-SE")]})},e.imdbID):null}))]})})}),ce=(c(97),Object(x.b)("set bank card")),ne=function(){var e=Object(h.b)(),t=Object(n.useState)(!1),c=Object(d.a)(t,2),s=c[0],r=c[1],a=Object(n.useRef)(),i=Object(h.c)((function(e){return e.currentUserUid})),o=Object(h.c)((function(e){return e.bankCard}));return Object(v.jsxs)("div",{className:"profile-settings",children:[Object(v.jsx)("p",{className:"profile-settings-change-card",onClick:function(){r(!s)},children:"Add/edit payment details"}),s?Object(v.jsxs)("div",{children:[Object(v.jsx)("input",{id:"card-details",name:"card-details",placeholder:o,ref:a}),Object(v.jsx)("button",{className:"profile-settings-save-card-button",onClick:function(){i?Y.collection("CUSTOMERS").doc(i).set({bankCard:a.current.value},{merge:!0}).then((function(){e(ce(a.current.value)),console.log("card details successfully added"),r(!1)})).catch((function(e){console.error("error saving card details: ",e)})):console.log("no useruid, one have to log in to add card details")},children:"Save"})]}):"",Object(v.jsx)("br",{})]})},se=function(){var e=J().signout,t=Object(n.useState)(!0),c=Object(d.a)(t,2),s=c[0],r=c[1],a=function(){r(!s)},i=Object(h.c)((function(e){return e.currentUserUid})),o=Object(n.useState)(""),l=Object(d.a)(o,2),j=l[0],b=l[1];return Y.collection("CUSTOMERS").doc(i).onSnapshot((function(e){var t=e.data().name;b(t)})),Object(v.jsxs)("div",{className:"profile",children:[Object(v.jsx)("div",{className:"profile-headings-container",children:Object(v.jsxs)("div",{className:"profile-sub-headings-container",children:[Object(v.jsx)("h3",{className:s?"profile-sub-heading selected":"profile-sub-heading",onClick:a,children:"Settings"}),Object(v.jsx)("h3",{className:s?"profile-sub-heading":"profile-sub-heading selected",onClick:a,children:"History"})]})}),Object(v.jsx)("hr",{className:"profile-breakline"}),Object(v.jsx)("div",{className:"profile-container",children:Object(v.jsx)("div",{className:"profile-history-settings-container",children:s?Object(v.jsx)(ne,{}):Object(v.jsx)(te,{})})}),Object(v.jsxs)("div",{className:"profile-image-name-container",children:[Object(v.jsxs)("h4",{className:"profile-name",children:["Signed in as ",j]}),Object(v.jsx)("button",{className:"profile-signout-button",onClick:e,children:"Sign Out"})]})]})},re=function(){var e=Object(h.c)((function(e){return e.currentUserUid})),t=Object(n.useState)(!0),c=Object(d.a)(t,2),s=c[0],r=c[1],a=function(){r(!s)};return Object(v.jsx)("div",{children:e?Object(v.jsx)("div",{children:Object(v.jsx)(Q,{children:Object(v.jsx)(ee.a,{children:Object(v.jsx)("div",{children:Object(v.jsx)(se,{})})})})}):Object(v.jsx)("div",{children:Object(v.jsx)(Q,{children:Object(v.jsx)(ee.a,{children:Object(v.jsx)("div",{children:s?Object(v.jsx)(_,{toggleShowSignIn:a}):Object(v.jsx)($,{toggleShowSignIn:a})})})})})})},ae=(c(98),function(){var e=Object(m.g)();return Object(v.jsxs)("div",{className:"footer",children:[Object(v.jsx)("p",{className:"footer-element",onClick:function(){e.push("/AboutUs")},children:"About"}),Object(v.jsx)("p",{className:"footer-element",onClick:function(){e.push("/Support")},children:"Support"}),Object(v.jsx)("p",{className:"footer-element",onClick:function(){e.push("/Career")},children:"Career"}),Object(v.jsx)("p",{className:"footer-element",onClick:function(){e.push("/Policy")},children:"Policy"}),Object(v.jsx)("p",{className:"footer-element",onClick:function(){e.push("/FAQ")},children:"FAQ"})]})}),ie=(c(99),c(100),function(e){var t=Object(h.c)((function(e){return e.bankCard}));return Object(v.jsx)("div",{children:t?Object(v.jsx)("div",{children:Object(v.jsx)("div",{className:"popup-box",children:Object(v.jsxs)("div",{className:"box",children:[Object(v.jsx)("span",{className:"close-icon",onClick:e.handleClose,children:"x"}),e.content]})})}):Object(v.jsx)("div",{children:Object(v.jsx)("div",{className:"popup-box",children:Object(v.jsxs)("div",{className:"box",children:[Object(v.jsx)("span",{className:"close-icon",onClick:e.handleClose,children:"x"}),Object(v.jsx)("p",{children:" It's required to add payment methods in your Profile to complete the process!"})]})})})})}),oe=(c(101),c(47)),le=c.n(oe),je=function(){var e=Object(h.c)((function(e){return e.movieComments})),t=Object(h.c)((function(e){return e.rating})),c=Object(h.c)((function(e){return e.currentMovie})),s=Object(h.c)((function(e){return e.currentUserUid})),r=parseFloat(t[0]/t[1]).toFixed(2),a=Object(n.useRef)(),i=Object(n.useRef)(),o=Object(n.useState)(!1),l=Object(d.a)(o,2),j=l[0],b=l[1],u=Object(n.useState)(!1),m=Object(d.a)(u,2),O=m[0],x=m[1];return Object(v.jsxs)("div",{className:"movie-comments",children:[Object(v.jsxs)("h2",{children:[t[1]>0?Object(v.jsxs)("span",{children:["Rating: ",r," ",Object(v.jsx)("span",{role:"img","aria-label":"star",children:"\u2b50"}),"(",t[1]," voted)"]}):Object(v.jsx)("span",{children:"No votes yet!"})," "]}),Object(v.jsx)("input",{type:"text",id:"rating",name:"rating",placeholder:"0-10",ref:i}),Object(v.jsx)("button",{className:"movie-comment-button",onClick:function(){b(!0),Y.collection("COMMENTS").doc(c.imdbID).update({rating:t[0]+Number(i.current.value),total:t[1]+1}),i.current.value="You've rated!"},disabled:j||!s,children:"Rate!"}),Object(v.jsx)("h2",{children:"Comments"}),e.map((function(t){return Object(v.jsx)("div",{children:e?Object(v.jsx)("div",{className:"movie-comments-comments",children:Object(v.jsx)("p",{children:t})},le()()):Object(v.jsx)("div",{className:"movie-comments-comments",children:Object(v.jsx)("p",{children:"No comments at the moment! Leave one?"})},le()())})})),Object(v.jsx)("input",{className:"movie-comment-input",type:"text",id:"comment",name:"comment",ref:a}),Object(v.jsx)("button",{className:"movie-comment-button",onClick:function(){var e={};e[le()()]=a.current.value,x(!0),Y.collection("COMMENTS").doc(c.imdbID).set({comments:e},{merge:!0}),a.current.value="You've commented!"},disabled:O||!s,children:"Comment!"})]})},de=Object(x.b)("add comments"),be=Object(x.c)([],Object(O.a)({},de,(function(e,t){return t.payload}))),ue=Object(x.b)("add rating"),he=Object(x.c)([],Object(O.a)({},ue,(function(e,t){return t.payload}))),me=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),c=t[0],s=t[1],r=Object(h.b)(),a=Object(h.c)((function(e){return e.currentMovie})),i=Object(h.c)((function(e){return e.currentUserUid})),o=Object(h.c)((function(e){return e.rentedMovies})),l=Object(h.c)((function(e){return e.purchasedMovies})),j=Object(h.c)((function(e){return e.watchlistMovies})),b=o.find((function(e){return e.imdbID===a.imdbID})),u=l.find((function(e){return e.imdbID===a.imdbID})),m=j.find((function(e){return e.imdbID===a.imdbID})),x=Object(n.useState)(!1),p=Object(d.a)(x,2),f=p[0],g=p[1],N=function(){g(!f)},y=Object(n.useState)(!1),w=Object(d.a)(y,2),C=w[0],k=w[1],S=function(){k(!C)},I=Object(n.useState)(!1),T=Object(d.a)(I,2),D=T[0],M=T[1];Y.collection("COMMENTS").doc(a.imdbID).onSnapshot((function(e){var t=e.data().comments,c=e.data().rating,n=e.data().total;r(ue([c,n]));var s=[];Object.keys(t).forEach((function(e){s.push(t[e])})),r(de(s))}));return null==a?Object(v.jsx)("div",{className:"movie-details",children:"Something went wrong. Nothing to show.."}):Object(v.jsxs)("div",{className:"movie-details",children:[Object(v.jsx)("img",{className:"movie-details-image",src:a.Poster,alt:"Poster"}),Object(v.jsxs)("div",{className:"movie-details-information",children:[Object(v.jsx)("h2",{className:"movie-details-title",children:a.Title}),Object(v.jsx)("p",{className:"movie-details-description",children:a.Plot}),Object(v.jsxs)("p",{className:"movie-details-actors",children:[" Actors: ",a.Actors]}),Object(v.jsxs)("p",{className:"movie-details-runtime",children:["Runtime: ",a.Runtime]}),Object(v.jsxs)("p",{className:"movie-details-year",children:["Release year: ",a.Year]}),Object(v.jsxs)("p",{className:"movie-details-metascore",children:["Metascore: ",a.Metascore]}),Object(v.jsxs)("p",{className:"movie-details-genre",children:["Genre: ",a.Genre]}),Object(v.jsxs)("div",{className:"movie-details-buttons",children:[f&&Object(v.jsx)(ie,{content:c?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("b",{children:"Purchase completed!"})}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("b",{children:"Confirm Purchase"}),Object(v.jsx)("button",{className:"details-confirm-button",onClick:function(){return function(e){if(i){var t={};t[e]=Date.now(),Y.collection("CUSTOMERS").doc(i).set({rented:t},{merge:!0}),s(!0)}else console.log("not logged in")}(a.imdbID)},children:"Rent"})]}),handleClose:N}),C&&Object(v.jsx)(ie,{content:c?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("b",{children:"Purchase completed!"})}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("b",{children:"Confirm Purchase"}),Object(v.jsx)("button",{className:"details-confirm-button",onClick:function(){return function(e){if(i){var t={};t[e]=Date.now(),Y.collection("CUSTOMERS").doc(i).set({purchased:t},{merge:!0}),s(!0)}else console.log("not logged in")}(a.imdbID)},children:"Buy"})]}),handleClose:S}),Object(v.jsx)("button",{disabled:b,className:b?"rent-button disabled":"rent-button",onClick:N,children:b?"Already rented":"Rent: 39 kr"}),Object(v.jsx)("button",{disabled:u,className:u?"buy-button disabled":"buy-button",onClick:S,children:u?"Already bought":"Buy: 99 kr"}),Object(v.jsx)("button",{onClick:function(){return function(e){if(m)i&&Y.collection("CUSTOMERS").doc(i).set({watchlist:Object(O.a)({},e,B.a.firestore.FieldValue.delete())},{merge:!0});else if(i){var t={};t[e]=Date.now(),Y.collection("CUSTOMERS").doc(i).set({watchlist:t},{merge:!0})}else console.log("not logged in")}(a.imdbID)},className:"watchlist-button",children:m?"Remove from Watchlist":"Add to Watchlist"}),Object(v.jsx)("button",{onClick:function(){M(!D)},children:D?"Hide Comments":"View Comments"})]}),Object(v.jsx)("div",{className:"movie-details-comment-section",children:D?Object(v.jsx)(je,{}):null})]})]})},Oe=function(){return Object(v.jsxs)(b.a,{children:[Object(v.jsx)("div",{children:Object(v.jsx)(y,{})}),Object(v.jsxs)(m.d,{children:[Object(v.jsx)(m.b,{exact:!0,path:"/Account",children:Object(v.jsx)(re,{})}),Object(v.jsx)(m.b,{exact:!0,path:"/Search",children:Object(v.jsx)(X,{})}),Object(v.jsx)(m.b,{exact:!0,path:"/AboutUs",children:Object(v.jsx)(S,{})}),Object(v.jsx)(m.b,{exact:!0,path:"/Support",children:Object(v.jsx)(Z,{})}),Object(v.jsx)(m.b,{exact:!0,path:"/Career",children:Object(v.jsx)(w,{})}),Object(v.jsx)(m.b,{exact:!0,path:"/Policy",children:Object(v.jsx)(C,{})}),Object(v.jsx)(m.b,{exact:!0,path:"/FAQ",children:Object(v.jsx)(k,{})}),Object(v.jsx)(m.b,{exact:!0,path:"/moviedetails",children:Object(v.jsx)(me,{})}),Object(v.jsx)(m.a,{exact:!0,from:"/",to:"/Home/Categories"}),Object(v.jsx)(m.b,{exact:!0,path:"/Home/:page?",render:function(e){return Object(v.jsx)(K,Object(i.a)({},e))}})]}),Object(v.jsx)("div",{children:Object(v.jsx)(ae,{})})]})},xe=["thor","iron man","happy gilmore","the matrix","pulp fiction","the rock","the shining","metropolis","transformers","vanishing point","venom","nobody","the falcon and the winter soldier","mortal kombat","raya and the last dragon","love and monsters","nomadland","shadow and bone","sound of metal","godzilla","soul","secret magic control agency","wandavision","my octopus teacher","dirty dancing","top gun","back to the future","frozen","dumb and dumber","spirited away","aviator","totoro","the karate kid","days of thunder","300","gladiator","grease","avatar","the blues brothers","godzilla vs. kong","the eye"];function pe(){return(pe=Object(j.a)(l.a.mark((function e(t){var c,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="http://www.omdbapi.com/?t=".concat(t,"&plot=short&apikey=a79f43b6"),e.prev=1,e.next=4,fetch(c);case 4:return n=e.sent,e.next=7,n.json();case 7:return(s=e.sent).rented=0,s.rentExpires=0,s.purchased=0,s.addedToWatchlist=0,e.abrupt("return",s);case 15:e.prev=15,e.t0=e.catch(1),console.log("error");case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}var fe=function(e){return pe.apply(this,arguments)},ve=Object(x.b)("add movies"),ge=Object(x.c)([],Object(O.a)({},ve,(function(e,t){return t.payload}))),Ne=Object(x.b)("set purchased movies"),ye=[],we=Object(x.b)("set rented movies"),Ce=[],ke=Object(x.b)("set watchlist movies"),Se=[];var Ie=function(){var e=Object(h.b)(),t=Object(n.useState)([]),c=Object(d.a)(t,2),s=c[0],r=c[1],a=Object(h.c)((function(e){return e.currentUserUid}));return Object(n.useEffect)((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,Promise.all(xe.map(fe));case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){e(ve(s))}),[s,e]),a&&a&&Y.collection("CUSTOMERS").doc(a).onSnapshot((function(t){var c=t.data().purchased,n=t.data().rented,r=t.data().watchlist,a=t.data().bankCard,o=[],l=[],j=[],d=s.map((function(e){return Object(i.a)({},e)}));c?(Object.keys(c).forEach((function(e){var t=d.find((function(t){return t.imdbID===e}));t.purchased=c[e],o.push(t)})),e(Ne(o))):console.log("nothing purchased"),n?(Object.keys(n).forEach((function(e){var t=d.find((function(t){return t.imdbID===e}));t.rented=n[e],t.rentExpires=n[e]+1728e5,t.rentExpires>Date.now()&&l.push(t)})),e(we(l))):console.log("no rentals"),r?(Object.keys(r).forEach((function(e){var t=d.find((function(t){return t.imdbID===e}));t.addedToWatchlist=r[e],j.push(t)})),e(ke(j))):console.log("nothing in watchlist"),a&&e(ce(a))})),Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(Oe,{})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c(102);var Te=c(27),De=Object(Te.b)({movies:ge,currentMovie:P,searchTerm:f,currentUserUid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set current user uid":return t.payload;default:return e}},purchasedMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set purchased movies":return t.payload;default:return e}},rentedMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set rented movies":return t.payload;default:return e}},watchlistMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set watchlist movies":return t.payload;default:return e}},bankCard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set bank card":return t.payload;default:return e}},movieComments:be,rating:he}),Me=Object(x.a)({reducer:De});a.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(h.a,{store:Me,children:Object(v.jsx)(Ie,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},69:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){},94:function(e,t,c){},95:function(e,t,c){},96:function(e,t,c){},97:function(e,t,c){},98:function(e,t,c){},99:function(e,t,c){}},[[103,1,2]]]);
//# sourceMappingURL=main.3c0953ce.chunk.js.map